(this.webpackJsonp=this.webpackJsonp||[]).push([[1033],{"/0DP":function(t,e,r){"use strict";r.r(e),e.default="data:image/gif;base64,R0lGODlhCgAKAIAAAOXl5f///yH5BAAAAAAALAAAAAAKAAoAAAIRhB2ZhxoM3GMSykqd1VltzxQAOw=="},443:function(t,e){},444:function(t,e){},445:function(t,e){},446:function(t,e){},447:function(t,e){},448:function(t,e){},akq1:function(t,e,r){e=t.exports=r("ZSrL")(!1);var n=r("aC8t")(r("/0DP"));e.push([t.i,"\n.pdf-viewer {\n  background: url("+n+");\n  display: flex;\n  flex-flow: column nowrap;\n}\n",""])},kQBx:function(t,e,r){"use strict";var n=r("zLBL"),a=(r("y0sG"),r("ZE5c"),r("WIW2"),r("ts/Y"),r("PuHg"),r("R5qp"),r("37Bs"),r("yqrb"),r("MOyE"),r("fujO"),r("8vCi"),r("ujLG"),r("3R5X"),r("HaUQ"),r("AX+l")),o={props:{page:{type:Object,required:!0},number:{type:Number,required:!0}},data:()=>({scale:4,rendering:!1}),computed:{viewport(){return this.page.getViewport({scale:this.scale})},context(){return this.$refs.canvas.getContext("2d")},renderContext(){return{canvasContext:this.context,viewport:this.viewport}}},mounted(){var t=this;this.$refs.canvas.height=this.viewport.height,this.$refs.canvas.width=this.viewport.width,this.rendering=!0,this.page.render(this.renderContext).promise.then((function(){t.rendering=!1})).catch((function(e){t.$emit("pdflaberror",e)}))}},s=r("R8uv"),i=r.n(s),l=r("xLc+"),d=r.n(l),p={insert:"head",singleton:!1},c=(i()(d.a,p),d.a.locals,r("bPvS")),u=Object(c.a)(o,(function(){return(0,this._self._c)("canvas",{ref:"canvas",staticClass:"pdf-page",attrs:{"data-page":this.number}})}),[],!1,null,null,null).exports;a.GlobalWorkerOptions.workerSrc="/assets/webpack/pdfjs/pdf.worker.min.js";var h={components:{Page:u},props:{pdf:{type:[String,Uint8Array],required:!0}},data:()=>({pages:[]}),computed:{document(){return"string"==typeof this.pdf?this.pdf:{data:this.pdf}},hasPDF(){return this.pdf&&this.pdf.length>0},availablePages(){return this.pages.filter(Boolean)}},watch:{pdf:"load"},mounted(){this.hasPDF&&this.load()},methods:{load(){var t=this;return this.pages=[],Object(a.getDocument)({url:this.document,cMapUrl:"/assets/webpack/pdfjs/cmaps/",cMapPacked:!0}).promise.then(this.renderPages).then((function(e){t.pages=e,t.$emit("pdflabload",e.length)})).catch((function(e){t.$emit("pdflaberror",e)}))},renderPages(t){const e=[];for(let r=1;r<=t.numPages;r+=1)e.push(t.getPage(r));return Promise.all(e)}}},f=r("akq1"),g=r.n(f),b={insert:"head",singleton:!1},v=(i()(g.a,b),g.a.locals,{components:{PdfLab:Object(c.a)(h,(function(){var t=this._self._c;return this.hasPDF?t("div",{staticClass:"pdf-viewer"},this._l(this.availablePages,(function(e,r){return t("page",{key:r,attrs:{page:e,number:r+1}})})),1):this._e()}),[],!1,null,null,null).exports,GlLoadingIcon:n.a},props:{pdf:{type:String,required:!0}},data:()=>({error:!1,loadError:!1,loading:!0}),methods:{onLoad(){this.loading=!1},onError(t){this.loading=!1,this.loadError=!0,this.error=t}}}),m=Object(c.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"js-pdf-viewer container-fluid md gl-mt-3 gl-mb-3"},[t.loading&&!t.error?e("div",{staticClass:"text-center loading"},[e("gl-loading-icon",{staticClass:"mt-5",attrs:{size:"lg"}})],1):t._e(),t._v(" "),t.loadError?t._e():e("pdf-lab",t._g({attrs:{pdf:t.pdf},on:{pdflabload:t.onLoad,pdflaberror:t.onError}},t.$listeners)),t._v(" "),t.error?e("p",{staticClass:"text-center"},[t.loadError?e("span",{ref:"loadError"},[t._v("\n      "+t._s(t.__("An error occurred while loading the file. Please try again later."))+"\n    ")]):e("span",[t._v(t._s(t.__("An error occurred while decoding the file.")))])]):t._e()],1)}),[],!1,null,null,null);e.a=m.exports},"xLc+":function(t,e,r){(t.exports=r("ZSrL")(!1)).push([t.i,"\n.pdf-page {\n  margin: 8px auto 0;\n  border-top: 1px #ddd solid;\n  border-bottom: 1px #ddd solid;\n  width: 100%;\n}\n.pdf-page:first-child {\n  margin-top: 0;\n  border-top: 0;\n}\n.pdf-page:last-child {\n  margin-bottom: 0;\n  border-bottom: 0;\n}\n",""])},yfSM:function(t,e,r){"use strict";r.r(e);var n=r("cuRJ"),a=r("kQBx"),o=r("t9l/"),s=r("G00o"),i={components:{GlButton:n.a,PdfViewer:a.a},i18n:{tooLargeDescription:Object(o.a)("This PDF is too large to display. Please download to view."),tooLargeButtonText:Object(o.a)("Download PDF")},props:{blob:{type:Object,required:!0}},data(){return{url:this.blob.externalStorageUrl||this.blob.rawPath,fileSize:this.blob.rawSize,totalPages:0}},computed:{tooLargeToDisplay(){return this.fileSize>s.m||this.totalPages>s.n}},methods:{handleOnLoad(t){this.totalPages=t}}},l=r("bPvS"),d=Object(l.a)(i,(function(){var t=this,e=t._self._c;return e("div",[t.tooLargeToDisplay?e("div",{staticClass:"gl-display-flex gl-flex-direction-column gl-align-items-center gl-p-5"},[e("p",[t._v(t._s(t.$options.i18n.tooLargeDescription))]),t._v(" "),e("gl-button",{attrs:{icon:"download",category:"secondary",variant:"confirm",href:t.url,download:""}},[t._v(t._s(t.$options.i18n.tooLargeButtonText))])],1):e("pdf-viewer",{attrs:{pdf:t.url},on:{pdflabload:t.handleOnLoad}})],1)}),[],!1,null,null,null);e.default=d.exports}}]);
//# sourceMappingURL=1033.8863e448.chunk.js.map