(this.webpackJsonp=this.webpackJsonp||[]).push([[267],{"4UPE":function(e,t,i){"use strict";var n=i("EtIY"),a=i("ly/8"),r={name:"UserAvatarLinkNew",components:{UserAvatarImage:i("9l04").a,GlAvatarLink:n.a},directives:{GlTooltip:a.a},props:{lazy:{type:Boolean,required:!1,default:!1},linkHref:{type:String,required:!1,default:""},imgSrc:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:""},imgCssClasses:{type:String,required:!1,default:""},imgSize:{type:[Number,Object],required:!0},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},username:{type:String,required:!1,default:""}},computed:{shouldShowUsername(){return this.username.length>0},avatarTooltipText(){return this.shouldShowUsername?"":this.tooltipText}}},o=i("bPvS"),s=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("gl-avatar-link",{staticClass:"user-avatar-link",attrs:{href:e.linkHref}},[t("user-avatar-image",{attrs:{"img-src":e.imgSrc,"img-alt":e.imgAlt,"css-classes":e.imgCssClasses,size:e.imgSize,"tooltip-text":e.avatarTooltipText,"tooltip-placement":e.tooltipPlacement,lazy:e.lazy}},[e._t("default")],2),e._v(" "),e.shouldShowUsername?t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-ml-1",attrs:{title:e.tooltipText,"tooltip-placement":e.tooltipPlacement,"data-testid":"user-avatar-link-username"}},[e._v("\n    "+e._s(e.username)+"\n  ")]):e._e(),e._v(" "),e._t("avatar-badge")],2)}),[],!1,null,null,null);t.a=s.exports},"85Cb":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getForkDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ref"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forkDetails"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ref"},value:{kind:"Variable",name:{kind:"Name",value:"ref"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ahead"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"behind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSyncing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasConflicts"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:200}};i.loc.source={body:"query getForkDetails($projectPath: ID!, $ref: String) {\n  project(fullPath: $projectPath) {\n    id\n    forkDetails(ref: $ref) {\n      ahead\n      behind\n      isSyncing\n      hasConflicts\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.getForkDetails=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(n[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(i,"getForkDetails")},"9FfG":function(e,t,i){(e.exports=i("ZSrL")(!1)).push([e.i,"\n.commit[data-v-0fb25b7a] {\n  min-height: 4.75rem;\n}\n",""])},"9l04":function(e,t,i){"use strict";var n=i("kMtG"),a=i.n(n),r=(i("h8Et"),i("5DNK")),o=i("cmjF"),s=i("t2gO"),l=i("t9l/"),d=i("a4ol"),c={name:"UserAvatarImage",components:{GlTooltip:r.a,GlAvatar:o.a},props:{lazy:{type:Boolean,required:!1,default:!1},imgSrc:{type:String,required:!1,default:s.a},cssClasses:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:Object(l.a)("user avatar")},size:{type:[Number,Object],required:!0},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"}},computed:{sanitizedSource(){let e=""===this.imgSrc||null===this.imgSrc?s.a:this.imgSrc;return 0===e.indexOf("data:")||e.includes("?")||(e+="?width="+this.maximumSize),e},maximumSize(){return a()(this.size)?Math.max(...Object.values(this.size)):this.size},resultantSrcAttribute(){return this.lazy?d.b:this.sanitizedSource}}},u=i("bPvS"),m=Object(u.a)(c,(function(){var e=this,t=e._self._c;return t("span",{ref:"userAvatar"},[t("gl-avatar",{class:{lazy:e.lazy,[e.cssClasses]:!0},attrs:{src:e.resultantSrcAttribute,"data-src":e.sanitizedSource,size:e.size,alt:e.imgAlt}}),e._v(" "),e.tooltipText||e.$scopedSlots.default?t("gl-tooltip",{attrs:{target:function(){return e.$refs.userAvatar},placement:e.tooltipPlacement,boundary:"window"}},[e._t("default",(function(){return[e._v(e._s(e.tooltipText))]}))],2):e._e()],1)}),[],!1,null,null,null);t.a=m.exports},Dqg9:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getBlobControls"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filePath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ref"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"blobs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paths"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"filePath"}}]}},{kind:"Argument",name:{kind:"Name",value:"ref"},value:{kind:"Variable",name:{kind:"Name",value:"ref"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"findFilePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blamePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"historyPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"permalinkPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"storedExternally"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalStorage"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:384}};i.loc.source={body:"query getBlobControls($projectPath: ID!, $filePath: String!, $ref: String!) {\n  project(fullPath: $projectPath) {\n    id\n    repository {\n      blobs(paths: [$filePath], ref: $ref) {\n        nodes {\n          id\n          findFilePath\n          blamePath\n          historyPath\n          permalinkPath\n          storedExternally\n          externalStorage\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.getBlobControls=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(n[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(i,"getBlobControls")},EtIY:function(e,t,i){"use strict";var n=i("u1ru"),a=i("6IRw"),r=i.n(a);const o={name:"AvatarLink",components:{GlLink:n.a}};const s=r()({render:function(){var e=this.$createElement;return(this._self._c||e)("gl-link",this._g(this._b({staticClass:"gl-avatar-link"},"gl-link",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=s},Gr03:function(e,t,i){"use strict";var n=i("Z2pp"),a=i("DQ7i"),r=i("jyii"),o=i("tT3K"),s=i("qx9o"),l=i("9Q7u"),d=i("DwzX");function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){m(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var p=Object(d.c)({id:Object(d.b)(o.r),tag:Object(d.b)(o.r,"header"),variant:Object(d.b)(o.r)},r.p),f=Object(n.c)({name:r.p,functional:!0,props:p,render:function(e,t){var i=t.props,n=t.data,r=t.children,o=i.tag,d=i.variant;return e("li",Object(a.a)(Object(l.j)(n,["attrs"]),{attrs:{role:"presentation"}}),[e(o,{staticClass:"dropdown-header",class:m({},"text-".concat(d),d),attrs:u(u({},n.attrs||{}),{},{id:i.id||null,role:Object(s.t)(o,"header")?null:"heading"}),ref:"header"},r)])}}),h=i("6IRw");const v={components:{BDropdownHeader:f},inheritAttrs:!1};const g=i.n(h)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-dropdown-header",this._g(this._b({staticClass:"gl-dropdown-section-header"},"b-dropdown-header",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,v,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=g},KLrs:function(e,t,i){"use strict";i.r(t);var n=i("q+nE"),a=i("mNEC"),r=i("mphk"),o=i("t9l/"),s=i("0nrL"),l=i("cuRJ"),d=i("CkNe"),c=i("oj/M"),u=i("yYHy"),m=i("65S1"),p=i("xHRz"),f=i("R8yi"),h=i("79ob"),v=i("bPvS"),g=Object(v.a)({},(function(){return(0,this._self._c)("router-view")}),[],!1,null,null,null).exports,k=(i("0no1"),i("3R5X"),i("gdbl"),i("ujLG"),i("HaUQ"),i("OkMp")),b=i("OqKX"),y=i("Gr03"),S=i("0X+3"),_=i("H8gz"),j=i("qINL"),w=i("nPur"),N=i.n(w),P=i("e9rI"),C=i("M96W"),O=i.n(C),F=i("R7rg"),D=i.n(F),E=i("j3oG"),x=i("Q04j"),T=i("lT7T"),q=i("wHz9"),I=i("tXCq"),$=i("tSMP"),B=i("oSqs"),A=i("meSH"),L=i("G00o");const G=Object(o.a)("Create New Directory"),M=Object(o.a)("Create directory"),V=Object(o.a)("Directory name"),R=Object(o.a)("Error creating new directory. Please try again.");var U={components:{GlAlert:x.a,GlModal:T.a,GlForm:q.a,GlFormGroup:I.a,GlFormInput:$.a,GlFormTextarea:B.a,GlToggle:A.a},i18n:{DIR_LABEL:V,COMMIT_LABEL:L.b,TARGET_BRANCH_LABEL:L.s,TOGGLE_CREATE_MR_LABEL:L.u,NEW_BRANCH_IN_FORK:L.l,PRIMARY_OPTIONS_TEXT:M,ERROR_MESSAGE:R},props:{modalTitle:{type:String,default:G,required:!1},modalId:{type:String,required:!0},primaryBtnText:{type:String,default:M,required:!1},commitMessage:{type:String,required:!0},targetBranch:{type:String,required:!0},originalBranch:{type:String,required:!0},path:{type:String,required:!0},canPushCode:{type:Boolean,required:!0}},data(){return{dir:null,commit:this.commitMessage,target:this.targetBranch,createNewMr:!0,loading:!1}},computed:{primaryOptions(){return{text:this.primaryBtnText,attributes:{variant:"confirm",loading:this.loading,disabled:!this.formCompleted||this.loading}}},cancelOptions(){return{text:L.r,attributes:{disabled:this.loading}}},showCreateNewMrToggle(){return this.canPushCode},formCompleted(){return this.dir&&this.commit&&this.target}},methods:{submitForm(){var e=this;this.loading=!0;const t=new FormData;return t.append("dir_name",this.dir),t.append("commit_message",this.commit),t.append("branch_name",this.target),t.append("original_branch",this.originalBranch),this.createNewMr&&t.append("create_merge_request",this.createNewMr),r.a.post(this.path,t).then((function(e){Object(u.Q)(e.data.filePath)})).catch((function(){e.loading=!1,Object(a.createAlert)({message:R})}))}}},z=Object(v.a)(U,(function(){var e=this,t=e._self._c;return t("gl-form",[t("gl-modal",{attrs:{"modal-id":e.modalId,title:e.modalTitle,"action-primary":e.primaryOptions,"action-cancel":e.cancelOptions},on:{primary:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[t("gl-form-group",{attrs:{label:e.$options.i18n.DIR_LABEL,"label-for":"dir_name"}},[t("gl-form-input",{attrs:{disabled:e.loading,name:"dir_name"},model:{value:e.dir,callback:function(t){e.dir=t},expression:"dir"}})],1),e._v(" "),t("gl-form-group",{attrs:{label:e.$options.i18n.COMMIT_LABEL,"label-for":"commit_message"}},[t("gl-form-textarea",{attrs:{name:"commit_message",disabled:e.loading},model:{value:e.commit,callback:function(t){e.commit=t},expression:"commit"}})],1),e._v(" "),e.canPushCode?t("gl-form-group",{attrs:{label:e.$options.i18n.TARGET_BRANCH_LABEL,"label-for":"branch_name"}},[t("gl-form-input",{attrs:{disabled:e.loading,name:"branch_name"},model:{value:e.target,callback:function(t){e.target=t},expression:"target"}})],1):e._e(),e._v(" "),e.showCreateNewMrToggle?t("gl-toggle",{attrs:{disabled:e.loading,label:e.$options.i18n.TOGGLE_CREATE_MR_LABEL},model:{value:e.createNewMr,callback:function(t){e.createNewMr=t},expression:"createNewMr"}}):e._e(),e._v(" "),e.canPushCode?e._e():t("gl-alert",{staticClass:"gl-mt-3",attrs:{variant:"info",dismissible:!1}},[e._v("\n      "+e._s(e.$options.i18n.NEW_BRANCH_IN_FORK)+"\n    ")])],1)],1)}),[],!1,null,null,null).exports;const H="header",K="divider";var Q={components:{GlDropdown:k.a,GlDropdownDivider:b.a,GlDropdownSectionHeader:y.a,GlDropdownItem:S.a,GlIcon:_.a,UploadBlobModal:E.a,NewDirectoryModal:z},apollo:{projectShortPath:{query:D.a},projectPath:{query:O.a},userPermissions:{query:N.a,variables(){return{projectPath:this.projectPath}},update:function(e){var t;return null===(t=e.project)||void 0===t?void 0:t.userPermissions},error(e){throw e}}},directives:{GlModal:j.a},mixins:[P.a],props:{currentPath:{type:String,required:!1,default:""},canCollaborate:{type:Boolean,required:!1,default:!1},canEditTree:{type:Boolean,required:!1,default:!1},canPushCode:{type:Boolean,required:!1,default:!1},selectedBranch:{type:String,required:!1,default:""},originalBranch:{type:String,required:!1,default:""},newBranchPath:{type:String,required:!1,default:null},newTagPath:{type:String,required:!1,default:null},newBlobPath:{type:String,required:!1,default:null},forkNewBlobPath:{type:String,required:!1,default:null},forkNewDirectoryPath:{type:String,required:!1,default:null},forkUploadBlobPath:{type:String,required:!1,default:null},uploadPath:{type:String,required:!1,default:""},newDirPath:{type:String,required:!1,default:""}},uploadBlobModalId:"modal-upload-blob",newDirectoryModalId:"modal-new-directory",data:()=>({projectShortPath:"",projectPath:"",userPermissions:{}}),computed:{pathLinks(){var e=this;return this.currentPath.split("/").filter((function(e){return""!==e})).reduce((function(t,i,n){const a=Object(u.y)(n>0?t[n].path:"",Object(u.i)(i)),r=n===e.currentPath.split("/").length-1,o=e.isBlobPath&&r?"/-/blob/"+Object(u.y)(e.escapedRef,a):"/-/tree/"+Object(u.y)(e.escapedRef,a);return t.concat({name:i,path:a,to:o})}),[{name:this.projectShortPath,path:"/",to:`/-/tree/${this.escapedRef}/`}])},canCreateMrFromFork(){var e,t;return(null===(e=this.userPermissions)||void 0===e?void 0:e.forkProject)&&(null===(t=this.userPermissions)||void 0===t?void 0:t.createMergeRequestIn)},showUploadModal(){return this.canEditTree&&!this.$apollo.queries.userPermissions.loading},showNewDirectoryModal(){return this.canEditTree&&!this.$apollo.queries.userPermissions.loading},dropdownItems(){var e;const t=[];return this.canEditTree?(t.push({type:H,text:Object(o.a)("This directory")},{attrs:{href:`${this.newBlobPath}/${this.currentPath?encodeURIComponent(this.currentPath):""}`,"data-qa-selector":"new_file_menu_item"},text:Object(o.a)("New file")},{attrs:{href:"#modal-upload-blob"},text:Object(o.a)("Upload file"),modalId:"modal-upload-blob"}),t.push({attrs:{href:"#modal-create-new-dir"},text:Object(o.a)("New directory"),modalId:"modal-new-directory"})):this.canCreateMrFromFork&&t.push({attrs:{href:this.forkNewBlobPath,"data-method":"post"},text:Object(o.a)("New file")},{attrs:{href:this.forkUploadBlobPath,"data-method":"post"},text:Object(o.a)("Upload file")},{attrs:{href:this.forkNewDirectoryPath,"data-method":"post"},text:Object(o.a)("New directory")}),null!==(e=this.userPermissions)&&void 0!==e&&e.pushCode&&t.push({type:K},{type:H,text:Object(o.a)("This repository")},{attrs:{href:this.newBranchPath},text:Object(o.a)("New branch")},{attrs:{href:this.newTagPath},text:Object(o.a)("New tag")}),t},isBlobPath(){return"blobPath"===this.$route.name||"blobPathDecoded"===this.$route.name},renderAddToTreeDropdown(){return!this.isBlobPath&&(this.canCollaborate||this.canCreateMrFromFork)},newDirectoryPath(){return Object(u.y)(this.newDirPath,this.currentPath)}},methods:{isLast(e){return e===this.pathLinks.length-1},getComponent(e){switch(e){case K:return"gl-dropdown-divider";case H:return"gl-dropdown-section-header";default:return"gl-dropdown-item"}}}},W=Object(v.a)(Q,(function(){var e=this,t=e._self._c;return t("nav",{attrs:{"aria-label":e.__("Files breadcrumb")}},[t("ol",{staticClass:"breadcrumb repo-breadcrumb"},[e._l(e.pathLinks,(function(i,n){return t("li",{key:n,staticClass:"breadcrumb-item"},[t("router-link",{attrs:{to:i.to,"aria-current":e.isLast(n)?"page":null}},[e._v("\n        "+e._s(i.name)+"\n      ")])],1)})),e._v(" "),e.renderAddToTreeDropdown?t("li",{staticClass:"breadcrumb-item"},[t("gl-dropdown",{attrs:{"toggle-class":"add-to-tree gl-ml-2","data-testid":"add-to-tree","data-qa-selector":"add_to_tree_dropdown"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("span",{staticClass:"sr-only"},[e._v(e._s(e.__("Add to tree")))]),e._v(" "),t("gl-icon",{staticClass:"float-left",attrs:{name:"plus",size:16}}),e._v(" "),t("gl-icon",{staticClass:"float-left",attrs:{name:"chevron-down",size:16}})]},proxy:!0}],null,!1,885599828)},[e._v(" "),e._l(e.dropdownItems,(function(i,n){return[t(e.getComponent(i.type),e._b({directives:[{name:"gl-modal",rawName:"v-gl-modal",value:i.modalId||null,expression:"item.modalId || null"}],key:n,tag:"component"},"component",i.attrs,!1),[e._v("\n            "+e._s(i.text)+"\n          ")])]}))],2)],1):e._e()],2),e._v(" "),e.showUploadModal?t("upload-blob-modal",{attrs:{"modal-id":e.$options.uploadBlobModalId,"commit-message":e.__("Upload New File"),"target-branch":e.selectedBranch,"original-branch":e.originalBranch,"can-push-code":e.canPushCode,path:e.uploadPath}}):e._e(),e._v(" "),e.showNewDirectoryModal?t("new-directory-modal",{attrs:{"can-push-code":e.canPushCode,"modal-id":e.$options.newDirectoryModalId,"commit-message":e.__("Add new directory"),"target-branch":e.selectedBranch,"original-branch":e.originalBranch,path:e.newDirectoryPath}}):e._e()],1)}),[],!1,null,null,null).exports,Y=(i("uHfJ"),i("R0RX"),{components:{GlButton:l.a},props:{currentPath:{type:String,required:!1,default:null},links:{type:Array,required:!0}},computed:{normalizedLinks(){var e=this;return this.links.map((function(t){return{text:t.text,path:`${t.path}?path=${e.currentPath}`}}))}}}),X=Object(v.a)(Y,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"border-top pt-1 mt-1"},[t("h5",{staticClass:"m-0 dropdown-bold-header"},[e._v(e._s(e.__("Download this directory")))]),e._v(" "),t("div",{staticClass:"dropdown-menu-content"},[t("div",{staticClass:"btn-group ml-0 w-100"},e._l(e.normalizedLinks,(function(i,n){return t("gl-button",{key:n,attrs:{href:i.path,variant:0===n?"confirm":"default",size:"small"}},[e._v("\n        "+e._s(i.text)+"\n      ")])})),1)])])}),[],!1,null,null,null).exports,Z=i("u1ru"),J=i("nPFI"),ee=i("Fj12"),te=i("zLBL"),ie=i("LtoE"),ne=i.n(ie),ae=i("Zxcm"),re=i("85Cb"),oe=i.n(re),se=i("dTzf"),le=i("JmT7");const de={modalTitle:Object(o.g)("ForksDivergence|Resolve merge conflicts manually"),modalMessage:Object(o.g)("ForksDivergence|The upstream changes could not be synchronized to this project due to file conflicts in the default branch. You must resolve the conflicts manually:"),step1:Object(o.a)("Step 1."),step2:Object(o.a)("Step 2."),step3:Object(o.a)("Step 3."),step4:Object(o.a)("Step 4."),step1Text:Object(o.g)("ForksDivergence|Fetch the latest changes from the upstream repository's default branch:"),step2Text:Object(o.g)("ForksDivergence|Check out to a new branch, and merge the changes from the upstream project's default branch. You likely need to resolve conflicts during this step."),step3Text:Object(o.g)("ForksDivergence|Push the updates to remote:"),step4Text:Object(o.g)("ForksDivergence|Create a merge request to your project's default branch."),copyToClipboard:Object(o.a)("Copy to clipboard"),close:Object(o.a)("Close")};var ce={name:"ForkSyncConflictsModal",components:{GlModal:T.a,GlButton:l.a,ModalCopyButton:se.a},directives:{SafeHtml:le.a},props:{sourceDefaultBranch:{type:String,required:!1,default:""},sourceName:{type:String,required:!1,default:""},sourcePath:{type:String,required:!1,default:""}},computed:{instructionsStep1(){return`git fetch ${Object(u.j)()}${this.sourcePath} ${this.sourceDefaultBranch}`}},methods:{show(){this.$refs.modal.show()},hide(){this.$refs.modal.hide()}},i18n:de,instructionsStep2:"git checkout -b &lt;new-branch-name&gt;\ngit merge FETCH_HEAD",instructionsStep2Clipboard:"git checkout -b <new-branch-name>\ngit merge FETCH_HEAD",instructionsStep3:"git commit\ngit push"},ue=Object(v.a)(ce,(function(){var e=this,t=e._self._c;return t("gl-modal",{ref:"modal",attrs:{"modal-id":"fork-sync-conflicts-modal",title:e.$options.i18n.modalTitle,size:"md"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[t("gl-button",{on:{click:e.hide,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hide.apply(null,arguments)}}},[e._v(e._s(e.$options.i18n.close))])]},proxy:!0}])},[t("p",[e._v(e._s(e.$options.i18n.modalMessage))]),e._v(" "),t("p",[t("b",[e._v(" "+e._s(e.$options.i18n.step1))]),e._v(" "+e._s(e.$options.i18n.modalMessage)+"\n    ")]),e._v(" "),t("div",{staticClass:"gl-display-flex gl-mb-4"},[t("pre",{staticClass:"gl-w-full gl-mb-0 gl-mr-3",attrs:{"data-testid":"resolve-conflict-instructions"}},[e._v(e._s(e.instructionsStep1))]),e._v(" "),t("modal-copy-button",{staticClass:"gl-shadow-none! gl-bg-transparent! gl-flex-shrink-0",attrs:{"modal-id":"fork-sync-conflicts-modal",text:e.instructionsStep1,title:e.$options.i18n.copyToClipboard}})],1),e._v(" "),t("p",[t("b",[e._v(" "+e._s(e.$options.i18n.step2))]),e._v(" "+e._s(e.$options.i18n.step2Text)+"\n    ")]),e._v(" "),t("div",{staticClass:"gl-display-flex gl-mb-4"},[t("pre",{staticClass:"gl-w-full gl-mb-0 gl-mr-3",attrs:{"data-testid":"resolve-conflict-instructions"},domProps:{innerHTML:e._s(e.$options.instructionsStep2)}}),e._v(" "),t("modal-copy-button",{staticClass:"gl-shadow-none! gl-bg-transparent! gl-flex-shrink-0",attrs:{"modal-id":"fork-sync-conflicts-modal",text:e.$options.instructionsStep2Clipboard,title:e.$options.i18n.copyToClipboard}})],1),e._v(" "),t("p",[t("b",[e._v(" "+e._s(e.$options.i18n.step3))]),e._v(" "+e._s(e.$options.i18n.step3Text)+"\n    ")]),e._v(" "),t("div",{staticClass:"gl-display-flex gl-mb-4"},[t("pre",{staticClass:"gl-w-full gl-mb-0",attrs:{"data-testid":"resolve-conflict-instructions"}},[e._v(e._s(e.$options.instructionsStep3)+"\n")]),e._v(" "),t("modal-copy-button",{staticClass:"gl-shadow-none! gl-bg-transparent! gl-flex-shrink-0 gl-ml-3",attrs:{"modal-id":"fork-sync-conflicts-modal",text:e.$options.instructionsStep3,title:e.$options.i18n.copyToClipboard}})],1),e._v(" "),t("p",[t("b",[e._v(" "+e._s(e.$options.i18n.step4))]),e._v(" "+e._s(e.$options.i18n.step4Text)+"\n    ")])])}),[],!1,null,null,null).exports;var me={i18n:{forkedFrom:Object(o.g)("ForkedFromProjectPath|Forked from"),inaccessibleProject:Object(o.g)("ForkedFromProjectPath|Forked from an inaccessible project."),upToDate:Object(o.g)("ForksDivergence|Up to date with the upstream repository."),unknown:Object(o.g)("ForksDivergence|This fork has diverged from the upstream repository."),behind:Object(o.g)("ForksDivergence|%{behindLinkStart}%{behind} %{commit_word} behind%{behindLinkEnd}"),ahead:Object(o.g)("ForksDivergence|%{aheadLinkStart}%{ahead} %{commit_word} ahead%{aheadLinkEnd} of"),behindAhead:Object(o.g)("ForksDivergence|%{messages} the upstream repository."),limitedVisibility:Object(o.g)("ForksDivergence|Source project has a limited visibility."),error:Object(o.g)("ForksDivergence|Failed to fetch fork details. Try again later."),sync:Object(o.g)("ForksDivergence|Update fork")},components:{GlIcon:_.a,GlLink:Z.a,GlButton:l.a,GlSprintf:J.a,GlSkeletonLoader:ee.a,ConflictsModal:ue,GlLoadingIcon:te.a},mixins:[Object(ae.a)()],apollo:{project:{query:oe.a,notifyOnNetworkStatusChange:!0,variables(){return this.forkDetailsQueryVariables},skip(){return!this.sourceName},error(e){Object(a.createAlert)({message:this.$options.i18n.error,captureError:!0,error:e})},result(e){let{loading:t}=e;this.handlePolingInterval(t)},pollInterval(){return this.pollInterval}}},props:{projectPath:{type:String,required:!0},selectedBranch:{type:String,required:!0},sourceDefaultBranch:{type:String,required:!1,default:""},sourceName:{type:String,required:!1,default:""},sourcePath:{type:String,required:!1,default:""},aheadComparePath:{type:String,required:!1,default:""},behindComparePath:{type:String,required:!1,default:""}},data:()=>({project:{},currentPollInterval:null,isSyncTriggered:!1}),computed:{forkDetailsQueryVariables(){return{projectPath:this.projectPath,ref:this.selectedBranch}},pollInterval(){return this.isSyncing?this.currentPollInterval:0},isLoading(){return this.$apollo.queries.project.loading},forkDetails(){var e;return null===(e=this.project)||void 0===e?void 0:e.forkDetails},hasConflicts(){var e;return null===(e=this.forkDetails)||void 0===e?void 0:e.hasConflicts},isSyncing(){var e;return null===(e=this.forkDetails)||void 0===e?void 0:e.isSyncing},ahead(){var e,t;return null===(e=this.project)||void 0===e||null===(t=e.forkDetails)||void 0===t?void 0:t.ahead},behind(){var e,t;return null===(e=this.project)||void 0===e||null===(t=e.forkDetails)||void 0===t?void 0:t.behind},behindText(){return Object(o.h)(this.$options.i18n.behind,{behind:this.behind,commit_word:Object(o.f)("commit","commits",this.behind)})},aheadText(){return Object(o.h)(this.$options.i18n.ahead,{ahead:this.ahead,commit_word:Object(o.f)("commit","commits",this.ahead)})},isUnknownDivergence(){return this.sourceName&&null===this.ahead&&null===this.behind},isUpToDate(){return 0===this.ahead&&0===this.behind},behindAheadMessage(){const e=[];return this.behind>0&&e.push(this.behindText),this.ahead>0&&e.push(this.aheadText),e.join(", ")},hasBehindAheadMessage(){return this.behindAheadMessage.length>0},isSyncButtonAvailable(){return this.glFeatures.synchronizeFork&&(this.sourceName&&this.forkDetails&&this.behind||this.isUnknownDivergence)},forkDivergenceMessage(){return this.forkDetails?this.isUnknownDivergence?this.$options.i18n.unknown:this.hasBehindAheadMessage?Object(o.h)(this.$options.i18n.behindAhead,{messages:this.behindAheadMessage}):this.$options.i18n.upToDate:this.$options.i18n.limitedVisibility}},watch:{hasConflicts(e){e&&this.isSyncTriggered&&(this.showConflictsModal(),this.isSyncTriggered=!1)}},methods:{async syncForkWithPolling(){var e=this;await this.$apollo.mutate({mutation:ne.a,variables:{projectPath:this.projectPath,targetBranch:this.selectedBranch},error(e){Object(a.createAlert)({message:e.message,captureError:!0,error:e})},update:function(t,i){let{data:{projectSyncFork:n}}=i;const{details:a}=n;t.writeQuery({query:oe.a,variables:e.forkDetailsQueryVariables,data:{project:{id:e.project.id,forkDetails:a}}})}})},showConflictsModal(){this.$refs.modal.show()},startSyncing(){this.isSyncTriggered=!0,this.syncForkWithPolling()},checkIfSyncIsPossible(){this.hasConflicts?this.showConflictsModal():this.startSyncing()},handlePolingInterval(e){if(!e&&this.isSyncing){const e=L.o,t=this.currentPollInterval,i=Math.min(t*e,L.f);this.currentPollInterval=this.currentPollInterval?i:L.p}this.currentPollInterval===L.f&&this.$apollo.queries.forkDetailsQuery.stopPolling()}}},pe=Object(v.a)(me,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"info-well gl-sm-display-flex gl-flex-direction-column"},[t("div",{staticClass:"well-segment gl-p-5 gl-w-full gl-display-flex"},[t("gl-icon",{staticClass:"gl-display-block gl-m-4 gl-text-center",attrs:{name:"fork",size:16}}),e._v(" "),t("div",{staticClass:"gl-display-flex gl-justify-content-space-between gl-align-items-center gl-flex-grow-1"},[e.sourceName?t("div",[e._v("\n        "+e._s(e.$options.i18n.forkedFrom)+"\n        "),t("gl-link",{attrs:{"data-qa-selector":"forked_from_link",href:e.sourcePath}},[e._v(e._s(e.sourceName))]),e._v(" "),e.isLoading?t("gl-skeleton-loader",{attrs:{lines:1}}):t("div",{staticClass:"gl-text-secondary",attrs:{"data-testid":"divergence-message"}},[t("gl-sprintf",{attrs:{message:e.forkDivergenceMessage},scopedSlots:e._u([{key:"aheadLink",fn:function(i){let{content:n}=i;return[t("gl-link",{attrs:{href:e.aheadComparePath}},[e._v(e._s(n))])]}},{key:"behindLink",fn:function(i){let{content:n}=i;return[t("gl-link",{attrs:{href:e.behindComparePath}},[e._v(e._s(n))])]}}],null,!1,921789833)})],1)],1):t("div",{staticClass:"gl-align-items-center gl-display-flex",attrs:{"data-testid":"inaccessible-project"}},[e._v("\n        "+e._s(e.$options.i18n.inaccessibleProject)+"\n      ")]),e._v(" "),e.isSyncButtonAvailable?t("gl-button",{attrs:{disabled:e.forkDetails.isSyncing},on:{click:e.checkIfSyncIsPossible}},[e.forkDetails.isSyncing?t("gl-loading-icon",{staticClass:"gl-display-inline",attrs:{size:"sm"}}):e._e(),e._v(" "),t("span",[e._v(e._s(e.$options.i18n.sync))])],1):e._e(),e._v(" "),t("conflicts-modal",{ref:"modal",attrs:{"source-name":e.sourceName,"source-path":e.sourcePath,"source-default-branch":e.sourceDefaultBranch}})],1)],1)])}),[],!1,null,null,null).exports,fe=i("ZplN"),he=i("ly/8"),ve=i("t2gO"),ge=i("gtnK"),ke=i.n(ge),be=i("Ng9o"),ye=i("/MVl"),Se=i("LcVr"),_e=i("4UPE"),je=i("9l04"),we=i("F+K/"),Ne=i("KFH7"),Pe=i("mcoW");const Ce=Object(o.a)("Subject Key Identifier:"),Oe="VERIFIED",Fe="UNVERIFIED",De="UNVERIFIED_KEY",Ee="UNKNOWN_KEY",xe="OTHER_USER",Te="SAME_USER_DIFFERENT_EMAIL",qe="MULTIPLE_SIGNATURES",Ie="REVOKED_KEY",$e="GpgSignature",Be="X509Signature",Ae="SshSignature",Le={variant:"muted",label:Object(o.a)("Unverified"),title:Object(o.a)("Unverified signature"),description:Object(o.a)("This commit was signed with an unverified signature.")},Ge={[Oe]:{variant:"success",label:Object(o.a)("Verified"),title:Object(o.a)("Verified commit"),description:Object(o.a)("This commit was signed with a verified signature and the committer email was verified to belong to the same user.")},[Fe]:{...Le},[De]:{...Le},[Ee]:{...Le},[xe]:{variant:"muted",label:Object(o.a)("Unverified"),title:Object(o.a)("Different user's signature"),description:Object(o.a)("This commit was signed with an unverified signature.")},[Te]:{variant:"muted",label:Object(o.a)("Unverified"),title:Object(o.a)("GPG key mismatch"),description:Object(o.a)("This commit was signed with a verified signature, but the committer email is not associated with the GPG Key.")},[qe]:{variant:"muted",label:Object(o.a)("Unverified"),title:Object(o.a)("Multiple signatures"),description:Object(o.a)("This commit was signed with multiple signatures.")},[Ie]:{variant:"muted",label:Object(o.a)("Unverified"),title:Object(o.g)("CommitSignature|Unverified signature"),description:Object(o.g)("CommitSignature|This commit was signed with a key that was revoked.")}},Me={[$e]:{keyLabel:Object(o.a)("GPG Key ID:"),keyNamespace:"gpgKeyPrimaryKeyid",helpLink:{label:Object(o.a)("Learn about signing commits"),path:"user/project/repository/gpg_signed_commits/index.md"}},[Be]:{keyLabel:"",helpLink:{label:Object(o.a)("Learn more about X.509 signed commits"),path:"/user/project/repository/x509_signed_commits/index.md"},subjectTitle:Object(o.a)("Certificate Subject"),issuerTitle:Object(o.a)("Certificate Issuer"),keyIdentifierTitle:Object(o.a)("Subject Key Identifier:")},[Ae]:{keyLabel:Object(o.a)("SSH key fingerprint:"),keyNamespace:"keyFingerprintSha256",helpLink:{label:Object(o.a)("Learn about signing commits with SSH keys."),path:"/user/project/repository/ssh_signed_commits/index.md"}}};var Ve={props:{subject:{type:String,required:!0},title:{type:String,required:!0},subjectKeyIdentifier:{type:String,required:!0}},computed:{subjectValues(){return this.subject.split(",")},subjectKeyIdentifierToDisplay(){return this.subjectKeyIdentifier.replaceAll(":"," ")}},i18n:{keyIdentifierTitle:Ce}},Re=Object(v.a)(Ve,(function(){var e=this,t=e._self._c;return t("div",[t("strong",[e._v(e._s(e.title))]),e._v(" "),t("ul",{staticClass:"gl-pl-5"},[e._l(e.subjectValues,(function(i){return t("li",{key:i,attrs:{"data-testid":"subject-value"}},[e._v("\n      "+e._s(i)+"\n    ")])})),e._v(" "),t("li",{attrs:{"data-testid":"key-identifier"}},[e._v("\n      "+e._s(e.$options.i18n.keyIdentifierTitle)+" "+e._s(e.subjectKeyIdentifierToDisplay)+"\n    ")])],2)])}),[],!1,null,null,null).exports,Ue={components:{GlBadge:we.a,GlPopover:Ne.a,GlLink:Z.a,X509CertificateDetails:Re},props:{signature:{type:Object,required:!0}},computed:{statusConfig(){var e,t;return null===(e=this.$options.statusConfig)||void 0===e?void 0:e[null===(t=this.signature)||void 0===t?void 0:t.verificationStatus]},typeConfig(){var e,t;return null===(e=this.$options.typeConfig)||void 0===e?void 0:e[null===(t=this.signature)||void 0===t?void 0:t.__typename]}},methods:{helpPagePath:Pe.a,getSubjectKeyIdentifierToDisplay:e=>e.replaceAll(":"," ")},typeConfig:Me,statusConfig:Ge},ze=Object(v.a)(Ue,(function(){var e=this,t=e._self._c;return e.statusConfig&&e.typeConfig?t("span",{staticClass:"gl-display-flex gl-align-items-center gl-hover-cursor-pointer gl-ml-2"},[t("button",{staticClass:"gl-border-0 gl-outline-0! gl-p-0 gl-bg-transparent",attrs:{id:"signature",tabindex:"0","data-testid":"signature-badge",role:"button",variant:"link","aria-label":e.statusConfig.label}},[t("gl-badge",{attrs:{variant:e.statusConfig.variant,size:"md","data-testid":"signature-status"}},[e._v("\n      "+e._s(e.statusConfig.label)+"\n    ")])],1),e._v(" "),t("gl-popover",{attrs:{target:"signature",triggers:"focus","data-testid":"signature-info"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n      "+e._s(e.statusConfig.title)+"\n    ")]},proxy:!0}],null,!1,1615281952)},[e._v(" "),t("p",{attrs:{"data-testid":"signature-description"}},[e._v("\n      "+e._s(e.statusConfig.description)+"\n    ")]),e._v(" "),e.typeConfig.keyLabel?t("p",{attrs:{"data-testid":"signature-key-label"}},[e._v("\n      "+e._s(e.typeConfig.keyLabel)+"\n      "),t("span",{staticClass:"gl-font-monospace",attrs:{"data-testid":"signature-key"}},[e._v("\n        "+e._s(e.signature[e.typeConfig.keyNamespace]||e.__("Unknown"))+"\n      ")])]):e._e(),e._v(" "),e.signature.x509Certificate?t("x509-certificate-details",{attrs:{title:e.typeConfig.subjectTitle,subject:e.signature.x509Certificate.subject,"subject-key-identifier":e.getSubjectKeyIdentifierToDisplay(e.signature.x509Certificate.subjectKeyIdentifier)}}):e._e(),e._v(" "),e.signature.x509Certificate&&e.signature.x509Certificate.x509Issuer?t("x509-certificate-details",{attrs:{title:e.typeConfig.issuerTitle,subject:e.signature.x509Certificate.x509Issuer.subject,"subject-key-identifier":e.getSubjectKeyIdentifierToDisplay(e.signature.x509Certificate.x509Issuer.subjectKeyIdentifier)}}):e._e(),e._v(" "),t("gl-link",{attrs:{href:e.helpPagePath(e.typeConfig.helpLink.path)}},[e._v("\n      "+e._s(e.typeConfig.helpLink.label)+"\n    ")])],1)],1):e._e()}),[],!1,null,null,null).exports,He={components:{UserAvatarLink:_e.a,TimeagoTooltip:Se.a,ClipboardButton:ye.a,CiIcon:be.a,GlButton:l.a,GlButtonGroup:fe.a,GlLink:Z.a,GlLoadingIcon:te.a,UserAvatarImage:je.a,SignatureBadge:ze},directives:{GlTooltip:he.a,SafeHtml:le.a},mixins:[P.a],apollo:{projectPath:{query:O.a},commit:{query:ke.a,variables(){return{projectPath:this.projectPath,ref:this.ref,path:this.currentPath.replace(/^\//,"")}},update:function(e){var t,i,n,a,r;const o=null===(t=e.project)||void 0===t||null===(i=t.repository)||void 0===i||null===(n=i.paginatedTree)||void 0===n||null===(a=n.nodes[0])||void 0===a?void 0:a.lastCommit,s=null==o||null===(r=o.pipelines)||void 0===r?void 0:r.edges;return{...o,pipeline:(null==s?void 0:s.length)&&s[0].node}},context:{isSingleRequest:!0},error(e){throw e}}},props:{currentPath:{type:String,required:!1,default:""}},data:()=>({projectPath:"",commit:null,showDescription:!1}),computed:{statusTitle(){return Object(o.h)(Object(o.g)("PipelineStatusTooltip|Pipeline: %{ciStatus}"),{ciStatus:this.commit.pipeline.detailedStatus.text})},isLoading(){return this.$apollo.queries.commit.loading},showCommitId(){var e,t;return null===(e=this.commit)||void 0===e||null===(t=e.sha)||void 0===t?void 0:t.substr(0,8)},commitDescription(){var e,t;return null===(e=this.commit)||void 0===e||null===(t=e.descriptionHtml)||void 0===t?void 0:t.replace(/^&#x000A;/,"")}},watch:{currentPath(){this.commit=null}},methods:{toggleShowDescription(){this.showDescription=!this.showDescription}},defaultAvatarUrl:ve.a,safeHtmlConfig:{ADD_TAGS:["gl-emoji"]}},Ke=i("R8uv"),Qe=i.n(Ke),We=i("9FfG"),Ye=i.n(We),Xe={insert:"head",singleton:!1},Ze=(Qe()(Ye.a,Xe),Ye.a.locals,Object(v.a)(He,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"well-segment commit gl-p-5 gl-w-full gl-display-flex"},[e.isLoading?t("gl-loading-icon",{staticClass:"m-auto",attrs:{size:"lg",color:"dark"}}):e.commit?[e.commit.author?t("user-avatar-link",{staticClass:"gl-my-2 gl-mr-4",attrs:{"link-href":e.commit.author.webPath,"img-src":e.commit.author.avatarUrl,"img-size":32}}):t("user-avatar-image",{staticClass:"gl-my-2 gl-mr-4",attrs:{"img-src":e.commit.authorGravatar||e.$options.defaultAvatarUrl,size:32}}),e._v(" "),t("div",{staticClass:"commit-detail flex-list gl-display-flex gl-justify-content-space-between gl-align-items-flex-start gl-flex-grow-1 gl-min-w-0"},[t("div",{staticClass:"commit-content",attrs:{"data-qa-selector":"commit_content"}},[t("gl-link",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.commit.titleHtml,expression:"commit.titleHtml",arg:e.$options.safeHtmlConfig}],staticClass:"commit-row-message item-title",class:{"font-italic":!e.commit.message},attrs:{href:e.commit.webPath}}),e._v(" "),e.commit.descriptionHtml?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"text-expander gl-vertical-align-bottom!",class:{open:e.showDescription},attrs:{title:e.__("Toggle commit description"),"aria-label":e.__("Toggle commit description"),selected:e.showDescription,icon:"ellipsis_h"},on:{click:e.toggleShowDescription}}):e._e(),e._v(" "),t("div",{staticClass:"committer"},[e.commit.author?t("gl-link",{staticClass:"commit-author-link js-user-link",attrs:{href:e.commit.author.webPath}},[e._v("\n            "+e._s(e.commit.author.name))]):[e._v("\n            "+e._s(e.commit.authorName)+"\n          ")],e._v("\n          "+e._s(e.s__("LastCommit|authored"))+"\n          "),t("timeago-tooltip",{attrs:{time:e.commit.authoredDate,"tooltip-placement":"bottom"}})],2),e._v(" "),e.commitDescription?t("pre",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.commitDescription,expression:"commitDescription",arg:e.$options.safeHtmlConfig}],staticClass:"commit-row-description gl-mb-3 gl-white-space-pre-line",class:{"d-block":e.showDescription}}):e._e()],1),e._v(" "),t("div",{staticClass:"gl-flex-grow-1"}),e._v(" "),t("div",{staticClass:"commit-actions gl-display-flex gl-flex-align gl-align-items-center gl-flex-direction-row"},[e.commit.signature?t("signature-badge",{attrs:{signature:e.commit.signature}}):e._e(),e._v(" "),e.commit.pipeline?t("div",{staticClass:"ci-status-link"},[t("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left",modifiers:{left:!0}}],staticClass:"js-commit-pipeline",attrs:{href:e.commit.pipeline.detailedStatus.detailsPath,title:e.statusTitle}},[t("ci-icon",{attrs:{status:e.commit.pipeline.detailedStatus,size:24,"aria-label":e.statusTitle}})],1)],1):e._e(),e._v(" "),t("gl-button-group",{staticClass:"gl-ml-4 js-commit-sha-group"},[t("gl-button",{staticClass:"gl-font-monospace",attrs:{label:"","data-testid":"last-commit-id-label"}},[e._v(e._s(e.showCommitId))]),e._v(" "),t("clipboard-button",{staticClass:"input-group-text",attrs:{text:e.commit.sha,title:e.__("Copy commit SHA")}})],1)],1)])]:e._e()],2)}),[],!1,null,"0fb25b7a",null).exports),Je=i("9Ku8"),et=i("rjO+"),tt=i("H3s2"),it=i("+/NG"),nt=i("Dqg9"),at=i.n(nt),rt={i18n:{findFile:Object(o.a)("Find file"),blame:Object(o.a)("Blame"),history:Object(o.a)("History"),permalink:Object(o.a)("Permalink"),errorMessage:Object(o.a)("An error occurred while loading the blob controls.")},buttonClassList:"gl-sm-w-auto gl-w-full gl-sm-mt-0 gl-mt-3",components:{GlButton:l.a},mixins:[P.a],apollo:{project:{query:at.a,variables(){return{projectPath:this.projectPath,filePath:this.filePath,ref:this.ref}},skip(){return!this.filePath},error(){Object(a.createAlert)({message:this.$options.i18n.errorMessage})}}},props:{projectPath:{type:String,required:!0}},data:()=>({project:{repository:{blobs:{nodes:[{findFilePath:null,blamePath:null,historyPath:null,permalinkPath:null,storedExternally:null,externalStorage:null}]}}}}),computed:{filePath(){return this.$route.params.path},showBlobControls(){return this.filePath&&"blobPathDecoded"===this.$route.name},blobInfo(){var e,t,i;return(null===(e=this.project)||void 0===e||null===(t=e.repository)||void 0===t||null===(i=t.blobs)||void 0===i?void 0:i.nodes[0])||{}},showBlameButton(){return!this.blobInfo.storedExternally&&"lfs"!==this.blobInfo.externalStorage}},watch:{showBlobControls(e){Object(it.a)(".tree-controls",!e)},blobInfo(){var e=this;Object(Je.a)(),this.$nextTick((function(){e.initShortcuts(),e.initLinksUpdate()}))}},methods:{initShortcuts(){const e=document.querySelector(".js-data-file-blob-permalink-url"),t=e&&e.getAttribute("href");new et.a({skipResetBindings:!0,fileBlobPermalinkUrl:t,fileBlobPermalinkUrlElement:e})},initLinksUpdate(){new tt.a(document.querySelector(".tree-holder"),".file-line-num[data-line-number], .file-line-num[data-line-number] *",document.querySelectorAll(".js-data-file-blob-permalink-url, .js-blob-blame-link"))}}},ot=Object(v.a)(rt,(function(){var e=this,t=e._self._c;return e.showBlobControls?t("div",{staticClass:"gl-display-flex gl-gap-3"},[t("gl-button",{class:e.$options.buttonClassList,attrs:{"data-testid":"find",href:e.blobInfo.findFilePath}},[e._v("\n    "+e._s(e.$options.i18n.findFile)+"\n  ")]),e._v(" "),e.showBlameButton?t("gl-button",{staticClass:"js-blob-blame-link",class:e.$options.buttonClassList,attrs:{"data-testid":"blame",href:e.blobInfo.blamePath}},[e._v("\n    "+e._s(e.$options.i18n.blame)+"\n  ")]):e._e(),e._v(" "),t("gl-button",{class:e.$options.buttonClassList,attrs:{"data-testid":"history",href:e.blobInfo.historyPath}},[e._v("\n    "+e._s(e.$options.i18n.history)+"\n  ")]),e._v(" "),t("gl-button",{staticClass:"js-data-file-blob-permalink-url",class:e.$options.buttonClassList,attrs:{"data-testid":"permalink",href:e.blobInfo.permalinkPath}},[e._v("\n    "+e._s(e.$options.i18n.permalink)+"\n  ")])],1):e._e()}),[],!1,null,null,null).exports,st=i("EfTh"),lt=i("voi4"),dt=(i("WmlO"),i("W9Nl"),i("JHu5"),i("XUYm"),i("ENs1")),ct=i("TIcb"),ut=i("jWLY"),mt=i.n(ut),pt=i("57Zq"),ft=i.n(pt);const ht={},vt={};let gt,kt,bt;function yt(e){kt=e||null}function St(e,t,i){let{resolve:n,entry:a}=i;const r=e.find((function(e){return e.filePath===Object(u.y)(t,a.name)}));r&&n(r)}n.default.use(st.b);const _t=Object(lt.a)({Query:{commit(e,t){let{path:i,fileName:n,maxOffset:a}=t;return new Promise((function(e){!function e(t,i,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;o&&(gt=o),bt&&bt===i||yt(null),bt=i;const s=Number(n);if(!kt&&s>gt)return yt(s-25),Promise.resolve();if(a&&(vt[i]?vt[i].push(a):vt[i]=[a]),ht[i])return ht[i];const{projectPath:l}=t.readQuery({query:O.a}),{escapedRef:d}=t.readQuery({query:ft.a});return ht[i]=r.a.get(`${gon.relative_url_root}/${l}/-/refs/${d}/logs_tree/${encodeURIComponent(i.replace(/^\//,""))}`,{params:{format:"json",offset:kt||n}}).then((function(n){let{data:a,headers:r}=n;const o=r["more-logs-offset"],s=t.readQuery({query:mt.a}),l=Object(dt.a)(s,(function(e){e.commits.push(...Object(ct.a)(a,i))}));t.writeQuery({query:mt.a,data:l}),vt[i].forEach((function(e){return St(l.commits,i,e)})),delete ht[i],o?(yt(null),e(t,i,o)):(delete vt[i],gt=null,yt(null))})),ht[i]}(_t,i,"0",{resolve:e,entry:{name:n}},a)}))},readme(e,t){let{url:i}=t;return r.a.get(i,{params:{format:"json",viewer:"rich"}}).then((function(e){let{data:t}=e;return{...t,__typename:"ReadmeFile"}}))}}},{cacheConfig:{dataIdFromObject:function(e){switch(e.__typename){case"TreeEntry":case"Submodule":case"Blob":return`${encodeURIComponent(e.flatPath)}-${e.id}`;default:return e.id||e._id}}}});var jt=new st.b({defaultClient:_t}),wt=i("bMec"),Nt=i("+Q53"),Pt=i("ydkn");n.default.use(d.b),n.default.use(p.a,{components:["SimpleViewer","BlobContent"]});var Ct=i("gBaY");t.default=function(){const{router:e,data:t,apolloProvider:i,projectPath:d}=function(){const e=document.getElementById("js-tree-list"),{dataset:t}=e,{projectPath:i,projectShortPath:a,ref:r,escapedRef:s,fullName:d}=t,p=Object(wt.a)(i,s);jt.clients.defaultClient.cache.writeQuery({query:mt.a,data:{commits:[]}}),jt.clients.defaultClient.cache.writeQuery({query:O.a,data:{projectPath:i}}),jt.clients.defaultClient.cache.writeQuery({query:D.a,data:{projectShortPath:a}}),jt.clients.defaultClient.cache.writeQuery({query:ft.a,data:{ref:r,escapedRef:s}}),new n.default({el:document.getElementById("js-last-commit"),router:p,apolloProvider:jt,render(e){return e(Ze,{props:{currentPath:this.$route.params.path}})}}),new n.default({el:document.getElementById("js-blob-controls"),router:p,apolloProvider:jt,render:e=>e(ot,{props:{projectPath:i}})}),function(){const e=document.getElementById("js-fork-info");if(!e)return null;const{sourceName:t,sourcePath:a,sourceDefaultBranch:o,aheadComparePath:s,behindComparePath:l}=e.dataset;new n.default({el:e,apolloProvider:jt,render:e=>e(pe,{props:{projectPath:i,selectedBranch:r,sourceName:t,sourcePath:a,sourceDefaultBranch:o,aheadComparePath:s,behindComparePath:l}})})}(),function(){const e=document.getElementById("js-tree-ref-switcher");if(!e)return!1;const{projectId:t,projectRootPath:i,refType:a}=e.dataset;new n.default({el:e,render:e=>e(h.a,{props:{projectId:t,value:a?Object(u.y)("refs",a,r):r,useSymbolicRefNames:!0},on:{input(e){Object(u.Q)(Object(Pt.a)(i,r,e))}}})})}(),p.afterEach((function(e){let{params:{path:t}}=e;Object(Nt.a)(t,r,d)}));const v=document.getElementById("js-repo-breadcrumb");if(v){const{canCollaborate:e,canEditTree:t,canPushCode:i,selectedBranch:a,newBranchPath:o,newTagPath:s,newBlobPath:l,forkNewBlobPath:d,forkNewDirectoryPath:u,forkUploadBlobPath:m,uploadPath:f,newDirPath:h}=v.dataset;p.afterEach((function(e){let{params:{path:t}}=e;Object(it.b)(".js-create-dir-form",h,t)})),new n.default({el:v,router:p,apolloProvider:jt,render(n){return n(W,{props:{currentPath:this.$route.params.path,canCollaborate:Object(c.G)(e),canEditTree:Object(c.G)(t),canPushCode:Object(c.G)(i),originalBranch:r,selectedBranch:a,newBranchPath:o,newTagPath:s,newBlobPath:l,forkNewBlobPath:d,forkNewDirectoryPath:u,forkUploadBlobPath:m,uploadPath:f,newDirPath:h}})}})}const k=document.getElementById("js-tree-history-link"),{historyLink:b}=k.dataset;let{isProjectOverview:y}=k.dataset;const S=p.afterEach((function(){y=!1,S()}));new n.default({el:k,router:p,render(e){return Object(c.G)(y)&&!this.$route.params.path?null:e(l.a,{attrs:{href:`${b}/${this.$route.params.path?Object(u.i)(this.$route.params.path):""}`,class:"btn btn-default btn-md gl-button"}},[Object(o.a)("History")])}}),Object(m.default)({el:document.getElementById("js-tree-web-ide-link"),router:p});const _=document.getElementById("js-directory-downloads");return _&&new n.default({el:_,router:p,render(e){const t=this.$route.params.path||"/";return"/"!==t?e(X,{props:{currentPath:t.replace(/^\//,""),links:JSON.parse(_.dataset.links)}}):null}}),new n.default({el:e,store:Object(f.a)(),router:p,apolloProvider:jt,render:e=>e(g)}),{router:p,data:t,apolloProvider:jt,projectPath:i}}();if(t.pathLocksAvailable){const i=document.querySelector("a.js-path-lock");if(!i)return;i.addEventListener("click",(async function(n){n.preventDefault();const{dataset:l}=n.target,d="lock"===l.state?Object(o.a)("Are you sure you want to lock this directory?"):Object(o.a)("Are you sure you want to unlock this directory?");await Object(s.a)(d)&&(i.setAttribute("disabled","disabled"),r.a.post(t.pathLocksToggle,{path:e.currentRoute.params.path.replace(/^\//,"")}).then((function(){return window.location.reload()})).catch((function(){i.removeAttribute("disabled"),Object(a.createAlert)({message:Object(o.a)("An error occurred while initializing path locks")})})))}))}new n.default({el:document.getElementById("js-code-owners"),router:e,apolloProvider:i,render(e){return e(Ct.a,{props:{filePath:this.$route.params.path,projectPath:d}})}})}},LtoE:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"syncFork"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetBranch"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectSyncFork"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"projectPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}},{kind:"ObjectField",name:{kind:"Name",value:"targetBranch"},value:{kind:"Variable",name:{kind:"Name",value:"targetBranch"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ahead"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"behind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSyncing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasConflicts"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:247}};i.loc.source={body:"mutation syncFork($projectPath: ID!, $targetBranch: String!) {\n  projectSyncFork(input: { projectPath: $projectPath, targetBranch: $targetBranch }) {\n    details {\n      ahead\n      behind\n      isSyncing\n      hasConflicts\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.syncFork=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(n[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(i,"syncFork")},OZ91:function(e,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"TreeEntryCommit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LogTreeCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sha"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHtml"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"committedDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fileName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lockLabel"},arguments:[],directives:[]}]}}],loc:{start:0,end:137}};i.loc.source={body:"fragment TreeEntryCommit on LogTreeCommit {\n  sha\n  message\n  titleHtml\n  committedDate\n  commitPath\n  fileName\n  filePath\n  lockLabel\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.TreeEntryCommit=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(n[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(i,"TreeEntryCommit")},R7rg:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getProjectShortPath"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectShortPath"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}]}]}}],loc:{start:0,end:57}};i.loc.source={body:"query getProjectShortPath {\n  projectShortPath @client\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.getProjectShortPath=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(n[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(i,"getProjectShortPath")},dTzf:function(e,t,i){"use strict";var n=i("RlQ7"),a=i.n(n),r=i("cuRJ"),o=i("ly/8"),s=i("dkv8"),l=i.n(s),d=i("/LsX"),c={components:{GlButton:r.a},directives:{GlTooltip:o.a},props:{text:{type:String,required:!1,default:""},id:{type:String,required:!1,default:function(){return a()("modal-copy-button-")}},container:{type:String,required:!1,default:""},cssClasses:{type:String,required:!1,default:""},modalId:{type:String,required:!1,default:""},target:{type:String,required:!1,default:""},title:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},tooltipContainer:{type:String,required:!1,default:null},category:{type:String,required:!1,default:"primary"},size:{type:String,required:!1,default:"medium"}},computed:{modalDomId(){return this.modalId?"#"+this.modalId:""}},mounted(){var e=this;this.$nextTick((function(){e.clipboard=new l.a(e.$el,{container:document.querySelector(e.modalDomId+" div.modal-content")||document.getElementById(e.container)||document.body}),e.clipboard.on("success",(function(t){e.$root.$emit(d.d,e.id),e.$emit("success",t),t.clearSelection(),t.trigger.blur()})).on("error",(function(t){return e.$emit("error",t)}))}))},destroyed(){this.clipboard&&this.clipboard.destroy()}},u=i("bPvS"),m=Object(u.a)(c,(function(){var e=this;return(0,e._self._c)("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{placement:e.tooltipPlacement,container:e.tooltipContainer},expression:"{ placement: tooltipPlacement, container: tooltipContainer }"}],class:e.cssClasses,attrs:{id:e.id,"data-clipboard-target":e.target,"data-clipboard-text":e.text,title:e.title,"aria-label":e.title,category:e.category,size:e.size,icon:"copy-to-clipboard"}},[e._t("default")],2)}),[],!1,null,null,null);t.a=m.exports},gtnK:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pathLastCommit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"path"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ref"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paginatedTree"},arguments:[{kind:"Argument",name:{kind:"Name",value:"path"},value:{kind:"Variable",name:{kind:"Name",value:"path"}}},{kind:"Argument",name:{kind:"Name",value:"ref"},value:{kind:"Variable",name:{kind:"Name",value:"ref"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastCommit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sha"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHtml"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"descriptionHtml"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authoredDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorGravatar"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webPath"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"signature"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GpgSignature"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gpgKeyPrimaryKeyid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verificationStatus"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"X509Signature"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"verificationStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"x509Certificate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjectKeyIdentifier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"x509Issuer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjectKeyIdentifier"},arguments:[],directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SshSignature"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"verificationStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"keyFingerprintSha256"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"pipelines"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ref"},value:{kind:"Variable",name:{kind:"Name",value:"ref"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailedStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tooltip"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"group"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1873}};i.loc.source={body:"query pathLastCommit($projectPath: ID!, $path: String, $ref: String!) {\n  project(fullPath: $projectPath) {\n    __typename\n    id\n    repository {\n      __typename\n      paginatedTree(path: $path, ref: $ref) {\n        __typename\n        nodes {\n          __typename\n          lastCommit {\n            __typename\n            id\n            sha\n            title\n            titleHtml\n            descriptionHtml\n            message\n            webPath\n            authoredDate\n            authorName\n            authorGravatar\n            author {\n              __typename\n              id\n              name\n              avatarUrl\n              webPath\n            }\n            signature {\n              __typename\n              ... on GpgSignature {\n                gpgKeyPrimaryKeyid\n                verificationStatus\n              }\n              ... on X509Signature {\n                verificationStatus\n                x509Certificate {\n                  id\n                  subject\n                  subjectKeyIdentifier\n                  x509Issuer {\n                    id\n                    subject\n                    subjectKeyIdentifier\n                  }\n                }\n              }\n              ... on SshSignature {\n                verificationStatus\n                keyFingerprintSha256\n              }\n            }\n            pipelines(ref: $ref, first: 1) {\n              __typename\n              edges {\n                __typename\n                node {\n                  __typename\n                  id\n                  detailedStatus {\n                    __typename\n                    id\n                    detailsPath\n                    icon\n                    tooltip\n                    text\n                    group\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.pathLastCommit=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(n[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(i,"pathLastCommit")},jWLY:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getCommits"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TreeEntryCommit"},directives:[]}]}}]}}],loc:{start:0,end:133}};n.loc.source={body:'#import "ee_else_ce/repository/queries/commit.fragment.graphql"\n\nquery getCommits {\n  commits @client {\n    ...TreeEntryCommit\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};n.definitions=n.definitions.concat(i("OZ91").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.getCommits=function(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,a=new Set,s=new Set;for(n.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}(n,"getCommits")},nPur:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getPermissions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pushCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forkProject"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createMergeRequestIn"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:211}};i.loc.source={body:"query getPermissions($projectPath: ID!) {\n  project(fullPath: $projectPath) {\n    id\n    __typename\n    userPermissions {\n      __typename\n      pushCode\n      forkProject\n      createMergeRequestIn\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.getPermissions=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(n[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(i,"getPermissions")},t2gO:function(e,t,i){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAAAAAAdJSU2AAACNElEQVR4AdXYBa7jMBCA4b3/JZahzIkjp2qt+BWUWnG5ln2XxaJJb2b5F2ukL4wvzK/rP7bUcbf92u6oftLSe1ldk8efsfaVeEjusZZeC6e1RllaCk/yG6ag1lZ4WwPX69uyD6tAe/g2ipAlNMRS37awDLaFrpcMWxXQOi0jnWCWjFkSZomYJWDWKmatYNZyEWkJsvQimoZYah5NgdaLxagCtF6GRy0DshZPkeYwS/KIJWGWYjwYUzDLxCwDtJ54OKglimBLqHWahii2g1pmHLLGBmwVoRjcKlmgOdw65H5qKuGWCVi5Qlhs6m1sENZi4q3AWNvca5UYy2RjT/SAsiZey6CsIvc0wVlV5lJ0ibPMyLUGCmlxQq0IM0hLdWyro7CWEc3sXsqaK4O2zLxOsmtpfW5Q1u68ZrVmepaaNXEewawtI9X5Xl3U3n1qND6+rfPzvqoIWz/fklNCSLY153YV53J/XUxGCJnKZ1lajsn3/Ffegf6Y5pV2LUsSNL2UHzxUfh3TlYpZqqTpXZm0KZk9zJcqaEmaWPHDw0pxe05K7bWOLHFLWXVetqpYmrjle4+1y0aBaF4UOQ1NU+lYezJClkjLUnSEjqhH6zjAW4OjtY39Ibq+sawUb6W2RQfoqG0VeKuwrRJvlba17faRdbe2pTtYq6Nty/S7yAbGsQjWIq41wVoT1+IdZNy1djUcVdu5lklQWC0xHkt1X31qNEE1Pr3qKv/9XiSNj6Aaifj3/69+AYujsR/MvkpZAAAAAElFTkSuQmCC"},xHRz:function(e,t,i){"use strict";const n={install(e,t){e.mixin({beforeCreate(){var e;const i=this.$options.name;if(-1!==(null==t||null===(e=t.components)||void 0===e?void 0:e.indexOf(i))){const e=`<${i}>`;performance.getEntriesByName(e+"-start").length||performance.mark(e+"-start")}},mounted(){var e;const i=this.$options.name;-1!==(null==t||null===(e=t.components)||void 0===e?void 0:e.indexOf(i))&&this.$nextTick((function(){window.requestAnimationFrame((function(){const e=`<${i}>`;performance.getEntriesByName(e+"-end").length||(performance.mark(e+"-end"),performance.measure(""+e,e+"-start"))}))}))}})}};t.a=n}}]);
//# sourceMappingURL=treeList.5902e2c9.chunk.js.map